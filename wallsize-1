#!/usr/bin/env bash

# Check if fzf is installed
if ! command -v fzf &> /dev/null
then
    echo "fzf could not be found. Please install it to use this script."
    exit
fi

# Use fzf to select the height
height=$(echo -e "1920\n3216" | fzf --prompt="Select height: ")

if [ -z "$height" ]; then
    echo "No height selected. Exiting."
    exit
fi

echo "Selected height: $height"

# Create the resized directory if it doesn't exist
mkdir -p resized

# Resize images and save to resized directory
for img in *.png *.jpg *.jpeg *.bmp; do
    if [ -f "$img" ]; then
        magick "$img" -resize "x${height}" "resized/$img"
    fi
done

echo "Images resized and saved in resized.."